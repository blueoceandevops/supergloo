
---
title: "mesh.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `supergloo.solo.io` 
#### Types:


- [Mesh](#mesh) **Top-Level Resource**
- [IstioMesh](#istiomesh)
- [IstioInstall](#istioinstall)
- [AwsAppMesh](#awsappmesh)
- [LinkerdMesh](#linkerdmesh)
- [LinkerdInstall](#linkerdinstall)
- [InstallOptions](#installoptions)
- [MeshConfig](#meshconfig)
- [DiscoveryMetadata](#discoverymetadata)
- [MtlsConfig](#mtlsconfig)
- [MonitoringConfig](#monitoringconfig)
- [MeshGroup](#meshgroup) **Top-Level Resource**
  



##### Source File: [github.com/solo-io/supergloo/api/v1/mesh.proto](https://github.com/solo-io/supergloo/blob/master/api/v1/mesh.proto)





---
### Mesh

 
Meshes represent a currently registered service mesh.

```yaml
"status": .core.solo.io.Status
"metadata": .core.solo.io.Metadata
"istio": .supergloo.solo.io.IstioMesh
"awsAppMesh": .supergloo.solo.io.AwsAppMesh
"linkerd": .supergloo.solo.io.LinkerdMesh
"discoveryMetadata": .supergloo.solo.io.DiscoveryMetadata

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `status` | [.core.solo.io.Status](../../../../solo-kit/api/v1/status.proto.sk#status) | Status indicates the validation status of this resource. Status is read-only by clients, and set by supergloo during validation |  |
| `metadata` | [.core.solo.io.Metadata](../../../../solo-kit/api/v1/metadata.proto.sk#metadata) | Metadata contains the object metadata for this resource |  |
| `istio` | [.supergloo.solo.io.IstioMesh](../mesh.proto.sk#istiomesh) |  |  |
| `awsAppMesh` | [.supergloo.solo.io.AwsAppMesh](../mesh.proto.sk#awsappmesh) |  |  |
| `linkerd` | [.supergloo.solo.io.LinkerdMesh](../mesh.proto.sk#linkerdmesh) |  |  |
| `discoveryMetadata` | [.supergloo.solo.io.DiscoveryMetadata](../mesh.proto.sk#discoverymetadata) | object which represents the data mesh discovery finds about a given mesh |  |




---
### IstioMesh

 
Mesh object representing an installed Istio control plane

```yaml
"install": .supergloo.solo.io.IstioInstall
"config": .supergloo.solo.io.MeshConfig

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `install` | [.supergloo.solo.io.IstioInstall](../mesh.proto.sk#istioinstall) |  |  |
| `config` | [.supergloo.solo.io.MeshConfig](../mesh.proto.sk#meshconfig) |  |  |




---
### IstioInstall



```yaml
"options": .supergloo.solo.io.InstallOptions
"enableAutoInject": bool
"enableIngress": bool
"enableEgress": bool
"grafana": bool
"prometheus": bool
"jaeger": bool

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `options` | [.supergloo.solo.io.InstallOptions](../mesh.proto.sk#installoptions) | Generic installation options |  |
| `enableAutoInject` | `bool` | enable auto injection of pods |  |
| `enableIngress` | `bool` | enable istio gateway ingress |  |
| `enableEgress` | `bool` | enable istio gateway egress |  |
| `grafana` | `bool` | install grafana with istio |  |
| `prometheus` | `bool` | install prometheus with istio |  |
| `jaeger` | `bool` | install jaeger with istio |  |




---
### AwsAppMesh

 
Mesh object representing AWS App Mesh

```yaml
"awsSecret": .core.solo.io.ResourceRef
"region": string
"enableAutoInject": bool
"injectionSelector": .supergloo.solo.io.PodSelector
"virtualNodeLabel": string
"sidecarPatchConfigMap": .core.solo.io.ResourceRef

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `awsSecret` | [.core.solo.io.ResourceRef](../../../../solo-kit/api/v1/ref.proto.sk#resourceref) | Reference to the secret that holds the AWS credentials that will be used to access the AWS App Mesh service. |  |
| `region` | `string` | The AWS region the AWS App Mesh control plane resources (Virtual Nodes, Virtual Routers, etc.) will be created in. |  |
| `enableAutoInject` | `bool` | Determines whether pods will be automatically injected with the AWS App Mesh Envoy sidecar proxy. If set to true, supergloo will ensure that a MutatingAdmissionWebhook server with the injection logic is deployed to the cluster and that it has been registered with the Kubernetes API server via a MutatingWebhookConfiguration. This will cause the webhook to be invoked on each pod creation event. |  |
| `injectionSelector` | [.supergloo.solo.io.PodSelector](../selector.proto.sk#podselector) | Pods matching this selector will be injected with the sidecar proxy at creation time. NOTE: the sidecar injector webhook currently supports only the NamespaceSelector and LabelSelector |  |
| `virtualNodeLabel` | `string` | If auto-injection is enabled, the value of the pod label with this key will be used to calculate the value of APPMESH_VIRTUAL_NODE_NAME environment variable that is set on the injected sidecar proxy container. |  |
| `sidecarPatchConfigMap` | [.core.solo.io.ResourceRef](../../../../solo-kit/api/v1/ref.proto.sk#resourceref) | Reference to the config map that contains the patch that will be applied to the spec of the pods matching the injection_selector. |  |




---
### LinkerdMesh

 
Mesh object representing an installed Linkerd control plane

```yaml
"install": .supergloo.solo.io.LinkerdInstall
"config": .supergloo.solo.io.MeshConfig

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `install` | [.supergloo.solo.io.LinkerdInstall](../mesh.proto.sk#linkerdinstall) |  |  |
| `config` | [.supergloo.solo.io.MeshConfig](../mesh.proto.sk#meshconfig) |  |  |




---
### LinkerdInstall



```yaml
"options": .supergloo.solo.io.InstallOptions
"enableAutoInject": bool

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `options` | [.supergloo.solo.io.InstallOptions](../mesh.proto.sk#installoptions) | Generic installation options |  |
| `enableAutoInject` | `bool` | enable auto injection of pods |  |




---
### InstallOptions



```yaml
"disabled": bool
"installationNamespace": string
"version": string

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `disabled` | `bool` | disables this install setting this to true will cause supergloo not to install this mesh, or uninstall an active install |  |
| `installationNamespace` | `string` | where the ingress has been installed |  |
| `version` | `string` | which version to install ignored if using custom helm chart |  |




---
### MeshConfig



```yaml
"mtlsConfig": .supergloo.solo.io.MtlsConfig
"monitoringConfig": .supergloo.solo.io.MonitoringConfig

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `mtlsConfig` | [.supergloo.solo.io.MtlsConfig](../mesh.proto.sk#mtlsconfig) | mtls config specifies configuration options for enabling mutual tls between pods in this mesh |  |
| `monitoringConfig` | [.supergloo.solo.io.MonitoringConfig](../mesh.proto.sk#monitoringconfig) | configuration for propagating stats and metrics from mesh controllers and sidecars to a centralized datastore such as prometheus |  |




---
### DiscoveryMetadata

 
Generic discovery data shared between different meshes

```yaml
"injectedNamespaceLabel": string
"enableAutoInject": bool
"meshVersion": string
"installationNamespace": string
"upstreams": []core.solo.io.ResourceRef
"mtlsConfig": .supergloo.solo.io.MtlsConfig

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `injectedNamespaceLabel` | `string` | list of namespaces which we know are being injected by a given mesh |  |
| `enableAutoInject` | `bool` | Whether or not auto-injection is enabled for a given mesh |  |
| `meshVersion` | `string` | version of the mesh which is installed |  |
| `installationNamespace` | `string` | namespace which the mesh is installed into |  |
| `upstreams` | [[]core.solo.io.ResourceRef](../../../../solo-kit/api/v1/ref.proto.sk#resourceref) | upstreams which point to injected pods in the mesh |  |
| `mtlsConfig` | [.supergloo.solo.io.MtlsConfig](../mesh.proto.sk#mtlsconfig) | discovered mtls config of the given mesh |  |




---
### MtlsConfig

 
the encryption configuration that will be applied by the role

```yaml
"mtlsEnabled": bool
"rootCertificate": .core.solo.io.ResourceRef

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `mtlsEnabled` | `bool` | whether or not mutual TLS should be enabled between pods in this mesh |  |
| `rootCertificate` | [.core.solo.io.ResourceRef](../../../../solo-kit/api/v1/ref.proto.sk#resourceref) | if set, rootCertificate will override the root certificate used by the mesh to encrypt mtls connections. The structure of the secret must be a standard kubernetes TLS secret such as can be created via `kubectl create secret tls` if mtlsEnabled is false, this field is ignored If deploying to Consul, Consul Connect requires that the cert and key are generated using ec, not rsa. |  |




---
### MonitoringConfig

 
Contains configuration options for monitoring a mesh
Currently MonitoringConfig only contains options for configuring
an in-cluster Prometheus instance to scrape a mesh for metrics

```yaml
"prometheusConfigmaps": []core.solo.io.ResourceRef

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `prometheusConfigmaps` | [[]core.solo.io.ResourceRef](../../../../solo-kit/api/v1/ref.proto.sk#resourceref) | indicates to supergloo that metrics should be propagated to one or more instances of prometheus. add a [`core.solo.io.ResourceRef`](../../../../solo-kit/api/v1/ref.proto.sk#ResourceRef) for each NAMESPACE.NAME of the configmap used to configure each prometheus instance. assumes that the configmap contains a key named `prometheus.yml` or `prometheus.yaml` whose value is the prometheus yaml config as an inline string |  |




---
### MeshGroup



```yaml
"status": .core.solo.io.Status
"metadata": .core.solo.io.Metadata
"meshes": []core.solo.io.ResourceRef

```

| Field | Type | Description | Default |
| ----- | ---- | ----------- |----------- | 
| `status` | [.core.solo.io.Status](../../../../solo-kit/api/v1/status.proto.sk#status) | Status indicates the validation status of this resource. Status is read-only by clients, and set by supergloo during validation |  |
| `metadata` | [.core.solo.io.Metadata](../../../../solo-kit/api/v1/metadata.proto.sk#metadata) | Metadata contains the object metadata for this resource |  |
| `meshes` | [[]core.solo.io.ResourceRef](../../../../solo-kit/api/v1/ref.proto.sk#resourceref) | the meshes contained in this group |  |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
